<!DOCTYPE html>
<html>
<head>
    <title>test messaging page</title>
    <script src="faye-browser.js"></script>
    <script src="RemoteLogger.js"></script>
    <script src="hmac-sha256.js"></script>
    <script src="AbstractMessageClient.js"></script>
    <script>
        var client;

        var startClient = function() {
            // simulate a concrete class
            var options = {
                    "socketHost":"http://localhost:29169",
                    "port":29169,
                    "hubName":"/MessageHub",
                    "algorithm":"sha256",
                    "appkey":"d6527612-55e9-4e10-8d4c-2979a979928a"
                };

            options.log = RemoteLogger.createLogger('TestMessageClient');

            client = AbstractMessageClient.extend( {}, options );

            client.subscribe('/heartbeat', function(msg) {
                options.log.info('heartbeat msg: ', JSON.stringify( msg ));
            });

            // make available for debugging
            window.client = client;
        };
    </script>
</head>
<body onload="startClient();">

<!-- create text input box and go button -->

</body>
</html>
