<!DOCTYPE html>
<html>
<head>
    <title>test messaging page</title>
    <script src="browser-messaging-commons.js"></script>
    <script src="messaging-config.js"></script>
    <script>
        var client;

        var startClient = function() {
            // read from the
            var options = readMessagingConfig();

            options.log = RemoteLogger.createLogger('TestMessageClient');

            client = AbstractMessageClient.extend( {}, options );

            client.subscribe('/heartbeat', function(msg) {
                options.log.info('heartbeat msg: ', JSON.stringify( msg ));
            });

            // make available for debugging
            window.client = client;
        };
    </script>
</head>
<body onload="startClient();">

<p>if you have the heartbeat message producer running, you should see messages in the console...</p>

</body>
</html>
